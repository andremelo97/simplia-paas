# PostgreSQL Database Configuration
DATABASE_URL=postgresql://username:password@localhost:5432/livocare
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=livocare
DATABASE_USER=username
DATABASE_PASSWORD=password

# Test Database
TEST_DATABASE_NAME=livocare_test
TEST_TENANT_SCHEMA=tenant_test_clinic

# Server Configuration
PORT=3001
NODE_ENV=development

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=24h

# Bcrypt Configuration
BCRYPT_SALT_ROUNDS=12

# Multi-tenancy
DEFAULT_TENANT=default
TENANT_HEADER_NAME=x-tenant-id

# API Configuration
INTERNAL_API_PREFIX=/internal/api/v1
ENABLE_INTERNAL_DOCS=true
INTERNAL_DOCS_PATH=/docs/internal
ADMIN_PANEL_ORIGIN=http://localhost:5173

# Security
ENABLE_HELMET=true

# Provisioning API Keys
# API keys are now managed via Internal Admin > Settings > API Keys
# No environment variable needed - keys are stored in database

# Platform Login Rate Limiting
PLATFORM_LOGIN_MAX=10
PLATFORM_LOGIN_WINDOW_MS=900000

# Frontend Environment Variables
# VITE_API_BASE_URL is used by HTTP client (defaults to window.location.origin in production)
VITE_API_BASE_URL=http://localhost:3001
# VITE_TQ_URL is used by Hub for SSO to TQ (defaults to window.location.origin + '/tq' in production)
VITE_TQ_URL=http://localhost:3005

# Deepgram Configuration for TQ App
DEEPGRAM_API_KEY=b57eeca583d9263e34b5c19bfa7d948eb0ff76fc
# DEEPGRAM_API_KEY_ADMIN is required for Management API (cost updates, usage data)
# Create an API key with Owner role + Billing scope enabled
# Find it at: https://console.deepgram.com/ → Settings → API Keys → Create Key
DEEPGRAM_API_KEY_ADMIN=your-admin-api-key-with-billing-scope
# DEEPGRAM_PROJECT_ID is required for cost updates via Management API
# Find it at: https://console.deepgram.com/ → Settings → API Keys → Project ID
DEEPGRAM_PROJECT_ID=your-deepgram-project-id
# Webhook authentication via dg-token header (automatically sent by Deepgram)

# API Base URL - Must be publicly accessible for Deepgram webhooks
# Local: http://localhost:3001
# Production (Railway): https://your-project.up.railway.app
# IMPORTANT: Deepgram requires HTTPS in production, localhost HTTP only works for dev
API_BASE_URL=http://localhost:3001

# Supabase Storage Configuration
# Each tenant gets its own bucket: tenant-{slug}
# Buckets are created automatically during TQ app provisioning
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
SUPABASE_STORAGE_PUBLIC_URL=https://your-project.supabase.co/storage/v1/s3

# OpenAI Configuration for TQ App
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-4o-mini

# Default SMTP Configuration (seeded for new TQ tenants)
# These credentials are used as default communication settings when a tenant activates TQ
# Gmail: Use App Password (not regular password) - https://myaccount.google.com/apppasswords
DEFAULT_SMTP_HOST=smtp.gmail.com
DEFAULT_SMTP_PORT=465
DEFAULT_SMTP_SECURE=true
DEFAULT_SMTP_USERNAME=admin@yourdomain.com
DEFAULT_SMTP_PASSWORD=your-gmail-app-password
DEFAULT_SMTP_FROM_EMAIL=admin@yourdomain.com

# Railway Database Reset Scripts
# Used by: npm run db:reset:railway (production) / npm run db:reset:test (test)
# Get connection strings from Railway → your project → Postgres → Connect
RAILWAY_DATABASE_URL=postgresql://user:password@host:port/database
TEST_DATABASE_URL=postgresql://user:password@host:port/database